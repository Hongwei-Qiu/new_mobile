(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/gongying/user/user"],{"0170":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(t("fa94")),o=i(t("7fee"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){t.e("components/tabbar/gongying").then(function(){return resolve(t("4e8d"))}.bind(null,t)).catch(t.oe)},c=getApp().globalData,r=c.navBar,s=c.appid,d=c.appsecret,f={components:{tabar:u},data:function(){return{navBar:r,tabNum:4,mineData:"",token:"",userinfo:"",userList:[{icon:"iconmima",name:"修改密码",url:"/pages/gongying/user/forget"},{icon:"iconwenti",name:"常见问题",url:"/pages/gongying/user/issue"},{icon:"iconwodezhangdan",name:"各月账单",url:"/pages/gongying/user/bill"},{icon:"icontuihuo",name:"退货单",url:"/pages/gongying/user/refund"},{icon:"iconbangdingweixin",url:"bindWeChat",name:"绑定微信"},{icon:"icontuichudenglu",name:"退出登录"}]}},methods:{toPage:function(n){if("退出登录"==n.name){e.showModal({content:"是否退出登录？",cancelText:"取消",cancelColor:"#999",confirmText:"确认",confirmColor:"#03A98E",success:function(n){if(n.confirm){var t=Math.round((new Date).getTime()/1e3),i={appid:s,timeStamp:t},u=a.default.hexMD5(o.default.objKeySort(i)+d),c={appid:s,timeStamp:t,sign:u};o.default.getRequests("logout",c,(function(n){200==n.data.code?(o.default.Toast(n.data.data),setTimeout((function(){e.clearStorage({success:function(n){e.navigateTo({url:"/pages/account/login"})}})}),1e3)):o.default.Toast(n.data.msg)}))}else n.cancel}})}else"bindWeChat"==n.url||e.navigateTo({url:n.url})},mine:function(){var e=this,n=Math.round((new Date).getTime()/1e3),t={appid:s,timeStamp:n},i=a.default.hexMD5(o.default.objKeySort(t)+d),u={appid:s,timeStamp:n,sign:i};o.default.getRequests("mine",u,(function(n){200==n.data.code?e.mineData=n.data.data:o.default.Toast(n.data.msg)}))},adminisus_weixin:function(){console.log("H5绑定");var n=this;e.showModal({content:1==this.is_bind?"是否微信改绑":"是否绑定微信",cancelText:"取消",cancelColor:"#999",confirmText:"确认",confirmColor:"#03A98E",success:function(t){if(t.confirm){e.setStorageSync("isWeixin",!0);var a=location.search,o=a.substring(a.indexOf("=")+1,a.lastIndexOf("&"));if(!o){var i=window.location.href,u=encodeURIComponent(i),c="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n.userinfo.appId+"&redirect_uri="+u+"&response_type=code&scope=snsapi_userinfo#wechat_redirect";window.location.href=c}}else t.cancel}})},wxConfig:function(){var e=this;if(this.token){var n=Math.round((new Date).getTime()/1e3),t={appid:s,timeStamp:n},i=a.default.hexMD5(o.default.objKeySort(t)+d),u={appid:s,type:1,timeStamp:n,sign:i};o.default.getRequests("wxParams",u,(function(n){200==n.data.code&&(e.userinfo=n.data.data,wx.config({debug:!1,appId:n.data.data.appId,timestamp:n.data.data.timestamp,nonceStr:n.data.data.nonceStr,signature:n.data.data.signature,jsApiList:["updateAppMessageShareData","onMenuShareAppMessage"]}))}))}}},onShow:function(){var n=this;this.token=e.getStorageSync("token"),n.mine()}};n.default=f}).call(this,t("543d")["default"])},"5f23":function(e,n,t){"use strict";var a={myApphead:function(){return t.e("components/my-apphead/index").then(t.bind(null,"070c"))}},o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a}))},"68bc":function(e,n,t){"use strict";(function(e){t("df48");a(t("66fd"));var n=a(t("f4ab"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"7d36":function(e,n,t){"use strict";t.r(n);var a=t("0170"),o=t.n(a);for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a},"9b2e":function(e,n,t){"use strict";var a=t("e5f1"),o=t.n(a);o.a},e5f1:function(e,n,t){},f4ab:function(e,n,t){"use strict";t.r(n);var a=t("5f23"),o=t("7d36");for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("9b2e");var u,c=t("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);n["default"]=r.exports}},[["68bc","common/runtime","common/vendor"]]]);