(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/gongying/enquiry/enquiry"],{1501:function(t,e,i){"use strict";var a=i("23a7"),n=i.n(a);n.a},"23a7":function(t,e,i){},6214:function(t,e,i){"use strict";var a={myApphead:function(){return i.e("components/my-apphead/index").then(i.bind(null,"070c"))},myBitmap:function(){return i.e("components/my-bitmap/index").then(i.bind(null,"362b"))},wPicker:function(){return i.e("components/w-picker/w-picker").then(i.bind(null,"3be1"))},uniIcons:function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-icons/uni-icons")]).then(i.bind(null,"a30f"))}},n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.searchKey=!1},t.e1=function(e){t.firstWare=!0},t.e2=function(e){return t.$refs.date.show()},t.e3=function(e,i,a){var n=arguments[arguments.length-1].currentTarget.dataset,r=n.eventParams||n["event-params"];i=r.item,a=r.index;i.is_exist?t.deletePrice(i,a):t.addPrice(i,a)},t.e4=function(e){t.searchKey=!0})},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},7316:function(t,e,i){"use strict";i.r(e);var a=i("6214"),n=i("8ae8");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("1501");var o,u=i("f0c5"),s=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=s.exports},"75bc":function(t,e,i){"use strict";(function(t){i("df48");a(i("66fd"));var e=a(i("7316"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"8ae8":function(t,e,i){"use strict";i.r(e);var a=i("a9fd"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a9fd:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("fa94")),n=o(i("7fee")),r=o(i("9752"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=s(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,n=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var d=function(){i.e("components/w-picker/w-picker").then(function(){return resolve(i("3be1"))}.bind(null,i)).catch(i.oe)},l=function(){i.e("components/tabbar/gongying").then(function(){return resolve(i("4e8d"))}.bind(null,i)).catch(i.oe)},f=function(){i.e("components/w-picker2/w-picker").then(function(){return resolve(i("8355"))}.bind(null,i)).catch(i.oe)},p=function(){i.e("components/w-picker3/w-picker").then(function(){return resolve(i("6d8d"))}.bind(null,i)).catch(i.oe)},m=getApp().globalData,h=m.navBar,b=m.appid,v=m.appsecret,g={components:{tabar:l,wPicker:d,ePicker:f,nPicker:p},data:function(){return{navBar:h,showTabar:!0,bitmap:!1,bitmaptwo:!0,searchKey:!0,search:"",firstWare:!1,wareName:"",wareAttr:"请选择",wareList:[],attr_id:"",item_id:"",purchases:[],isActive:1,tabNum:3,time:"",time2:"",wareListProps:{label:"value",value:"item_id"},dateVisible1:!1,dateVisible2:!1,list:[{tab:"历史记录",id:1},{tab:"开始报价",id:2}],supplierList:[],keyList:[]}},methods:{getWord:function(t){var e=this;if(this.search=t.detail.value,t.detail.value.length){var i=n.default.timeStamp(),r={appid:b,timeStamp:i,keyword:this.search},o=a.default.hexMD5(n.default.objKeySort(r)+v),u=Object.assign({sign:o},r);n.default.getRequests("searchItem",u,(function(t){200==t.data.code?(e.keyList=t.data.data,0==t.data.data.length&&n.default.Toast("搜索的商品不存在")):n.default.Toast(t.data.msg)}))}},deterMine:function(t){this.search=t.title,this.searchKey=!0,this.wareName=t.title,0==t.attr.length&&(t.attr[0]={id:0,item_id:t.id,value:"/"}),this.wareList=t.attr,this.wareAttr=t.attr[0].value,this.attr_id=t.attr[0].id,this.item_id=t.attr[0].item_id,this.bitmap=!1},confirmWare:function(t){this.wareAttr=t.result,this.attr_id=t.obj.id,this.item_id=t.obj.item_id},searchGood:function(){var t=this,e=n.default.timeStamp(),i={appid:b,timeStamp:e,attr_id:this.attr_id,item_id:this.item_id},r=a.default.hexMD5(n.default.objKeySort(i)+v),o=Object.assign({sign:r},i);n.default.getRequests("enquiry",o,(function(e){200==e.data.code?(t.purchases=e.data.data,0!=e.data.data.length?t.bitmap=!0:t.bitmap=!1):n.default.Toast(e.data.msg)}))},onConfirm:function(t,e){this.time=t.value},exportPrice:function(){this.$refs.date2.show()},addPrice:function(t,e){var i=this,r=n.default.timeStamp(),o={appid:b,timeStamp:r},u=a.default.hexMD5(n.default.objKeySort(o)+v),s=Object.assign({sign:u,list_id:t.id,price:t.price},o);n.default.postRequests("addCommoditySupplier",s,(function(t){200==t.data.code?(n.default.Toast("修改成功"),i.supplierList[e].is_exist=1):n.default.Toast(t.data.msg)}))},deletePrice:function(e,i){var r=this;t.showModal({title:"",content:"是否删除该商品的报价？",confirmColor:"#03A98E",success:function(t){if(t.confirm){var o=n.default.timeStamp(),u={appid:b,timeStamp:o},s=a.default.hexMD5(n.default.objKeySort(u)+v),c=Object.assign({sign:s,list_id:e.id},u);n.default.getRequests("delSupplierPrice",c,(function(t){200==t.data.code?(n.default.Toast("成功删除价格"),r.supplierList[i].is_exist=0,r.supplierList[i].price=""):n.default.Toast(t.data.msg)}))}else t.cancel&&console.log("用户点击取消")}})},confirmHistory:function(t,e){var i=this,r=n.default.timeStamp(),o={appid:b,timeStamp:r},u=a.default.hexMD5(n.default.objKeySort(o)+v),s=Object.assign({sign:u,date:this.time,history_date:t.value},o);n.default.getRequests("importSupplierPrice",s,(function(t){200==t.data.code?i.supplierList=t.data.data:n.default.Toast(t.data.msg)}))},tabs:function(t,e){this.isActive=e},SupplierList:function(){var t=this,e=n.default.timeStamp();this.supplierList=[];var i={appid:b,timeStamp:e},r=a.default.hexMD5(n.default.objKeySort(i)+v),o=Object.assign({sign:r,date:this.time},i);n.default.getRequests("commoditySupplierList",o,(function(e){200==e.data.code?(t.supplierList=e.data.data,0==e.data.data.length?t.bitmaptwo=!0:t.bitmaptwo=!1):n.default.Toast(e.data.msg)}))},deleteAll:function(){var e=this;t.showModal({title:"",content:"将清空列表中所有的报价,确认吗？",confirmColor:"#03A98E",success:function(t){if(t.confirm){var i=n.default.timeStamp(),r={appid:b,timeStamp:i},o=a.default.hexMD5(n.default.objKeySort(r)+v),s=Object.assign({sign:o,date:e.time},r);n.default.getRequests("delSupplierPrice",s,(function(t){if(200==t.data.code){n.default.Toast("操作成功");var i,a=[],r=u(e.supplierList);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.price="",o.is_exist=0,a.push(o)}}catch(s){r.e(s)}finally{r.f()}e.suplierList=a}else n.default.Toast(t.data.msg)}))}else t.cancel&&console.log("用户点击取消")}})}},onShow:function(){this.SupplierList()},onLoad:function(){this.time=r.default.formatDate(),this.time2=r.default.formatDate(0)}};e.default=g}).call(this,i("543d")["default"])}},[["75bc","common/runtime","common/vendor"]]]);