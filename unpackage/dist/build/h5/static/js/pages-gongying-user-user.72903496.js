(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-gongying-user-user"],{"070c":function(t,n,e){"use strict";e.r(n);var a=e("af2a"),i=e("f129");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);var c,u=e("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"d9eec7a6",null,!1,a["a"],c);n["default"]=r.exports},1095:function(t,n,e){"use strict";(function(t){var a=e("ee27");e("c975"),e("baa5"),e("ac1f"),e("841c"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("fa94")),o=a(e("7fee")),c=a(e("4e8d")),u=getApp().globalData,r=u.navBar,s=u.appid,d=u.appsecret,f={components:{tabar:c.default},data:function(){return{navBar:r,tabNum:4,mineData:"",token:"",userinfo:"",userList:[{icon:"iconmima",name:"修改密码",url:"/pages/gongying/user/forget"},{icon:"iconwenti",name:"常见问题",url:"/pages/gongying/user/issue"},{icon:"iconwodezhangdan",name:"各月账单",url:"/pages/gongying/user/bill"},{icon:"icontuihuo",name:"退货单",url:"/pages/gongying/user/refund"},{icon:"iconbangdingweixin",url:"bindWeChat",name:"绑定微信"},{icon:"icontuichudenglu",name:"退出登录"}]}},methods:{toPage:function(t){if("退出登录"==t.name){uni.showModal({content:"是否退出登录？",cancelText:"取消",cancelColor:"#999",confirmText:"确认",confirmColor:"#03A98E",success:function(t){if(t.confirm){var n=Math.round((new Date).getTime()/1e3),e={appid:s,timeStamp:n},a=i.default.hexMD5(o.default.objKeySort(e)+d),c={appid:s,timeStamp:n,sign:a};o.default.getRequests("logout",c,(function(t){200==t.data.code?(o.default.Toast(t.data.data),setTimeout((function(){uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}})}),1e3)):o.default.Toast(t.data.msg)}))}else t.cancel}})}else"bindWeChat"==t.url?this.adminisus_weixin():uni.navigateTo({url:t.url})},mine:function(){var t=this,n=Math.round((new Date).getTime()/1e3),e={appid:s,timeStamp:n},a=i.default.hexMD5(o.default.objKeySort(e)+d),c={appid:s,timeStamp:n,sign:a};o.default.getRequests("mine",c,(function(n){200==n.data.code?t.mineData=n.data.data:o.default.Toast(n.data.msg)}))},adminisus_weixin:function(){t.log("H5绑定");var n=this;uni.showModal({content:1==this.is_bind?"是否微信改绑":"是否绑定微信",cancelText:"取消",cancelColor:"#999",confirmText:"确认",confirmColor:"#03A98E",success:function(t){if(t.confirm){uni.setStorageSync("isWeixin",!0);var e=location.search,a=e.substring(e.indexOf("=")+1,e.lastIndexOf("&"));if(!a){var i=window.location.href,o=encodeURIComponent(i),c="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n.userinfo.appId+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo#wechat_redirect";window.location.href=c}}else t.cancel}})},wxConfig:function(){var t=this;if(this.token){var n=Math.round((new Date).getTime()/1e3),e={appid:s,timeStamp:n},a=i.default.hexMD5(o.default.objKeySort(e)+d),c={appid:s,type:1,timeStamp:n,sign:a};o.default.getRequests("wxParams",c,(function(n){200==n.data.code&&(t.userinfo=n.data.data,wx.config({debug:!1,appId:n.data.data.appId,timestamp:n.data.data.timestamp,nonceStr:n.data.data.nonceStr,signature:n.data.data.signature,jsApiList:["updateAppMessageShareData","onMenuShareAppMessage"]}))}))}}},onShow:function(){var t=this;this.token=uni.getStorageSync("token"),t.mine(),t.wxConfig();var n=location.search,e=n.substring(n.indexOf("=")+1,n.lastIndexOf("&")),a=uni.getStorageSync("isWeixin");if(a&&e){var c=Math.round((new Date).getTime()/1e3),r={appid:s,timeStamp:c,code:e},f=i.default.hexMD5(o.default.objKeySort(r)+d),l={appid:s,code:e,timeStamp:c,sign:f};o.default.postRequests("buyerBind",l,(function(t){uni.clearStorageSync("isWeixin"),e="",200==t.data.code?(o.default.Toast("绑定微信成功"),setTimeout((function(){uni.clearStorage({success:function(t){window.location.href=u.rootUrl+"/Mobile#/pages/caigou/user/user"}})}),1e3)):o.default.Toast(t.data.msg)}))}}};n.default=f}).call(this,e("5a52")["default"])},"1c8a":function(t,n,e){"use strict";var a=e("e29a"),i=e.n(a);i.a},2962:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,"uni-page-body[data-v-ac1e85de]{background:#fff}.user .top[data-v-ac1e85de]{padding:%?50?% %?30?%;border-bottom:%?10?% solid #fbf8fb}.user .top .logo[data-v-ac1e85de]{width:%?90?%;height:%?90?%;background:rgba(3,169,142,.5);color:#fff;border-radius:50%;padding:%?10?%;font-size:%?32?%;text-align:center;margin-right:%?30?%}.user .top .nickname[data-v-ac1e85de]{margin-bottom:%?10?%}.user .top .phone[data-v-ac1e85de]{font-size:%?28?%;font-weight:400}.user .list[data-v-ac1e85de]{padding:%?20?% %?25?%}.user .list .item[data-v-ac1e85de]{font-size:%?28?%;font-weight:400;padding-bottom:%?25?%;border-bottom:1px solid #f0f0f0;margin-bottom:%?25?%}.user .list .item[data-v-ac1e85de]:last-child{border:none}.user .list .item .iconfont[data-v-ac1e85de]{font-size:%?28?%;font-weight:400;margin-right:%?20?%;color:#c2c2c2}.user .list .item .right .iconfont[data-v-ac1e85de]{font-size:%?28?%;font-weight:400;margin-right:%?20?%;color:#c2c2c2}body.?%PAGE?%[data-v-ac1e85de]{background:#fff}",""]),t.exports=n},"3e71":function(t,n,e){"use strict";var a=e("f07c"),i=e.n(a);i.a},4601:function(t,n,e){"use strict";var a,i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"tabbar"},[e("v-uni-view",{staticClass:"list"},[e("v-uni-view",{staticClass:"item"},t._l(t.userList,(function(n,a){return e("v-uni-view",{key:a,class:t.tabarIndex==a?"color":"incolor",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageUrl(n,a)}}},[e("v-uni-view",{class:"iconfont "+n.icon}),e("v-uni-view",{staticClass:"name"},[t._v(t._s(n.name))])],1)})),1)],1)],1)},o=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}))},"4e8d":function(t,n,e){"use strict";e.r(n);var a=e("4601"),i=e("b5f6");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("1c8a");var c,u=e("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"6825819b",null,!1,a["a"],c);n["default"]=r.exports},"7d36":function(t,n,e){"use strict";e.r(n);var a=e("1095"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"7fa1":function(t,n){},"7fee":function(t,n,e){e("4160"),e("4e82"),e("b64b"),e("d3b7"),e("25f0"),e("159b");var a=getApp(),i=a.globalData.rootUrl+"/mobileAdmin/";if(uni.getStorageSync("token"))var o={Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("token")};function c(){return Math.round((new Date).getTime()/1e3)}function u(t,n,e){uni.showLoading({title:"加载中...",duration:1e3,mask:!0,success:function(a){uni.request({url:i+t,method:"GET",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("token")},data:Object.assign(n),success:function(t){e(t),void 0!=t.header.authorization&&uni.setStorageSync("token",t.header.authorization),400==t.data.code&&uni.showToast({title:t.data.msg,icon:"none",duration:1e3,success:function(){}}),401==t.data.code&&uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}}),404==t.data.code&&uni.navigateTo({url:"/pages/account/404"}),uni.hideLoading()},fail:function(t){uni.showModal({title:t.data,content:"网络出错，请刷新重试",showCancel:!1})}})},fail:function(t){},complete:function(t){}})}function r(t,n,e){uni.request({url:i+t,method:"GET",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("token")},data:Object.assign(n),success:function(t){e(t),void 0!=t.header.authorization&&uni.setStorageSync("token",t.header.authorization),401==t.data.code&&uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}}),404==t.data.code&&uni.navigateTo({url:"/pages/account/404"}),408==t.data.code&&uni.navigateTo({url:"/pages/account/service"})},fail:function(t){uni.showModal({title:t.data,content:"网络出错，请刷新重试",showCancel:!1})}})}function s(t,n,e){uni.showLoading({title:"加载中",mask:!0,success:function(a){uni.request({url:i+t,method:"POST",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("token")},data:Object.assign(n),success:function(t){e(t),void 0!=t.header.authorization&&uni.setStorageSync("token",t.header.authorization),400==t.data.code&&uni.showToast({title:t.data.msg,icon:"none",duration:1e3,success:function(){}}),401==t.data.code&&uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}}),403==t.data.code&&uni.showToast({title:"账号已禁用",icon:"none",duration:1e3,success:function(){uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}})}}),404==t.data.code&&uni.navigateTo({url:"/pages/account/404"}),408==t.data.code&&uni.showToast({title:"抱歉，您的服务已到期，请联系《菜东家》工作人员续费！",icon:"none",duration:2e3}),uni.hideLoading()},fail:function(t){uni.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1})}})},fail:function(t){},complete:function(t){}})}function d(t,n,e){uni.request({url:i+t,method:"POST",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("token")},data:Object.assign(n),success:function(t){e(t),void 0!=t.header.authorization&&uni.setStorageSync("token",t.header.authorization),401==t.data.code&&uni.clearStorage({success:function(t){uni.navigateTo({url:"/pages/account/login"})}})},fail:function(t){uni.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1})}})}function f(t){for(var n=Object.keys(t).sort(),e={},a="",i=0;i<n.length;i++)e[n[i]]=t[n[i]];return Object.keys(e).forEach((function(t){a+="&"+t+"="+e[t]})),a.substr(1)}function l(t){uni.showToast({title:t,icon:"none",duration:1e3})}function g(){var t=new Date,n=t.getMonth(),e=++n,a=new Date(t.getFullYear(),e,1),i=864e5;return new Date(a.getTime()-i)}function p(){var t=new Date,n=t.getFullYear().toString(),e=(t.getMonth()+1).toString(),a="";a=e<10?"0"+e:e;t.getDate().toString();var i=g().getDate(),o=n+"-"+a+"-01",c=n+"-"+a+"-"+i,u=[o,c];return u}function v(t){return new Promise((function(n,e){window.init=function(){n(BMap)};var a=document.createElement("script");a.type="text/javascript",a.src="http://api.map.baidu.com/api?v=2.0&ak="+t+"&callback=init",a.onerror=e,document.head.appendChild(a)}))}t.exports={getRequest:u,getRequests:r,postRequest:s,postRequests:d,timeStamp:c,Toast:l,header:o,objKeySort:f,thedefaulttime:p,MP:v}},"881b":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,".color[data-v-6825819b]{color:#03a98d}.incolor[data-v-6825819b]{color:#d5d5d5}.tabbar[data-v-6825819b]{position:fixed;width:100%;bottom:0;left:0;background:#fffeff}.tabbar .list[data-v-6825819b]{width:100%;font-size:%?28?%;text-align:center;padding:%?10?% 0}.tabbar .list .item[data-v-6825819b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.tabbar .list .item .iconfont[data-v-6825819b]{font-size:%?40?%;margin-bottom:%?5?%}",""]),t.exports=n},af2a:function(t,n,e){"use strict";var a,i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div")},o=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}))},b1a2:function(t,n,e){"use strict";var a={myApphead:e("070c").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"caigou_index"},[e("my-apphead"),e("v-uni-view",{staticClass:"user"},[e("v-uni-view",{staticClass:"top flex flex_align_center"},[e("v-uni-view",{staticClass:"logo"},[t._v("个人中心")]),e("v-uni-view",[e("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.mineData.name))]),e("v-uni-view",{staticClass:"phone"},[t._v("手机："+t._s(t.mineData.mobile))])],1)],1),e("v-uni-view",{staticClass:"list"},t._l(t.userList,(function(n){return e("v-uni-view",{staticClass:"item flex flex_between",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPage(n)}}},[e("v-uni-view",{staticClass:"left"},[e("v-uni-text",{class:"iconfont "+n.icon}),e("v-uni-text",[t._v(t._s(n.name))])],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",{staticClass:"iconfont iconyou"})],1)],1)})),1)],1),e("tabar",{attrs:{tabarIndex:t.tabNum}})],1)},o=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}))},b5f6:function(t,n,e){"use strict";e.r(n);var a=e("d78c"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},baa5:function(t,n,e){var a=e("23e7"),i=e("e58c");a({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},d78c:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={props:["tabarIndex"],data:function(){return{userList:[{icon:"iconindex",name:"首页",url:"/pages/gongying/index/index"},{icon:"iconcart",name:"备货",url:"/pages/gongying/stockUp/stockUp"},{icon:"iconhedui",name:"供应单",url:"/pages/gongying/supply/supply"},{icon:"iconxunjia",name:"询价",url:"/pages/gongying/enquiry/enquiry"},{icon:"iconUserpersonalinform",name:"我的",url:"/pages/gongying/user/user"}]}},created:function(t){},methods:{pageUrl:function(t,n){uni.reLaunch({url:t.url})}}};n.default=a},e29a:function(t,n,e){var a=e("881b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("623906fe",a,!0,{sourceMap:!1,shadowMode:!1})},f07c:function(t,n,e){var a=e("2962");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("78f58668",a,!0,{sourceMap:!1,shadowMode:!1})},f129:function(t,n,e){"use strict";e.r(n);var a=e("7fa1"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},f4ab:function(t,n,e){"use strict";e.r(n);var a=e("b1a2"),i=e("7d36");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("3e71");var c,u=e("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"ac1e85de",null,!1,a["a"],c);n["default"]=r.exports},fa94:function(t,n,e){e("d3b7"),e("ac1f"),e("25f0"),e("5319");var a=function(t,n){return t<<n|t>>>32-n},i=function(t,n){var e,a,i,o,c;return i=2147483648&t,o=2147483648&n,e=1073741824&t,a=1073741824&n,c=(1073741823&t)+(1073741823&n),e&a?2147483648^c^i^o:e|a?1073741824&c?3221225472^c^i^o:1073741824^c^i^o:c^i^o},o=function(t,n,e){return t&n|~t&e},c=function(t,n,e){return t&e|n&~e},u=function(t,n,e){return t^n^e},r=function(t,n,e){return n^(t|~e)},s=function(t,n,e,c,u,r,s){return t=i(t,i(i(o(n,e,c),u),s)),i(a(t,r),n)},d=function(t,n,e,o,u,r,s){return t=i(t,i(i(c(n,e,o),u),s)),i(a(t,r),n)},f=function(t,n,e,o,c,r,s){return t=i(t,i(i(u(n,e,o),c),s)),i(a(t,r),n)},l=function(t,n,e,o,c,u,s){return t=i(t,i(i(r(n,e,o),c),s)),i(a(t,u),n)},g=function(t){var n,e=t.length,a=e+8,i=(a-a%64)/64,o=16*(i+1),c=Array(o-1),u=0,r=0;while(r<e)n=(r-r%4)/4,u=r%4*8,c[n]=c[n]|t.charCodeAt(r)<<u,r++;return n=(r-r%4)/4,u=r%4*8,c[n]=c[n]|128<<u,c[o-2]=e<<3,c[o-1]=e>>>29,c},p=function(t){var n,e,a="",i="";for(e=0;e<=3;e++)n=t>>>8*e&255,i="0"+n.toString(16),a+=i.substr(i.length-2,2);return a},v=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var n="",e=0;e<t.length;e++){var a=t.charCodeAt(e);a<128?n+=String.fromCharCode(a):a>127&&a<2048?(n+=String.fromCharCode(a>>6|192),n+=String.fromCharCode(63&a|128)):(n+=String.fromCharCode(a>>12|224),n+=String.fromCharCode(a>>6&63|128),n+=String.fromCharCode(63&a|128))}return n};function h(t){var n,e,a,o,c,u,r,h,m,b=Array(),w=7,S=12,y=17,x=22,C=5,T=9,k=14,_=20,j=4,M=11,A=16,D=23,z=6,O=10,q=15,E=21;for(t=v(t),b=g(t),u=1732584193,r=4023233417,h=2562383102,m=271733878,n=0;n<b.length;n+=16)e=u,a=r,o=h,c=m,u=s(u,r,h,m,b[n+0],w,3614090360),m=s(m,u,r,h,b[n+1],S,3905402710),h=s(h,m,u,r,b[n+2],y,606105819),r=s(r,h,m,u,b[n+3],x,3250441966),u=s(u,r,h,m,b[n+4],w,4118548399),m=s(m,u,r,h,b[n+5],S,1200080426),h=s(h,m,u,r,b[n+6],y,2821735955),r=s(r,h,m,u,b[n+7],x,4249261313),u=s(u,r,h,m,b[n+8],w,1770035416),m=s(m,u,r,h,b[n+9],S,2336552879),h=s(h,m,u,r,b[n+10],y,4294925233),r=s(r,h,m,u,b[n+11],x,2304563134),u=s(u,r,h,m,b[n+12],w,1804603682),m=s(m,u,r,h,b[n+13],S,4254626195),h=s(h,m,u,r,b[n+14],y,2792965006),r=s(r,h,m,u,b[n+15],x,1236535329),u=d(u,r,h,m,b[n+1],C,4129170786),m=d(m,u,r,h,b[n+6],T,3225465664),h=d(h,m,u,r,b[n+11],k,643717713),r=d(r,h,m,u,b[n+0],_,3921069994),u=d(u,r,h,m,b[n+5],C,3593408605),m=d(m,u,r,h,b[n+10],T,38016083),h=d(h,m,u,r,b[n+15],k,3634488961),r=d(r,h,m,u,b[n+4],_,3889429448),u=d(u,r,h,m,b[n+9],C,568446438),m=d(m,u,r,h,b[n+14],T,3275163606),h=d(h,m,u,r,b[n+3],k,4107603335),r=d(r,h,m,u,b[n+8],_,1163531501),u=d(u,r,h,m,b[n+13],C,2850285829),m=d(m,u,r,h,b[n+2],T,4243563512),h=d(h,m,u,r,b[n+7],k,1735328473),r=d(r,h,m,u,b[n+12],_,2368359562),u=f(u,r,h,m,b[n+5],j,4294588738),m=f(m,u,r,h,b[n+8],M,2272392833),h=f(h,m,u,r,b[n+11],A,1839030562),r=f(r,h,m,u,b[n+14],D,4259657740),u=f(u,r,h,m,b[n+1],j,2763975236),m=f(m,u,r,h,b[n+4],M,1272893353),h=f(h,m,u,r,b[n+7],A,4139469664),r=f(r,h,m,u,b[n+10],D,3200236656),u=f(u,r,h,m,b[n+13],j,681279174),m=f(m,u,r,h,b[n+0],M,3936430074),h=f(h,m,u,r,b[n+3],A,3572445317),r=f(r,h,m,u,b[n+6],D,76029189),u=f(u,r,h,m,b[n+9],j,3654602809),m=f(m,u,r,h,b[n+12],M,3873151461),h=f(h,m,u,r,b[n+15],A,530742520),r=f(r,h,m,u,b[n+2],D,3299628645),u=l(u,r,h,m,b[n+0],z,4096336452),m=l(m,u,r,h,b[n+7],O,1126891415),h=l(h,m,u,r,b[n+14],q,2878612391),r=l(r,h,m,u,b[n+5],E,4237533241),u=l(u,r,h,m,b[n+12],z,1700485571),m=l(m,u,r,h,b[n+3],O,2399980690),h=l(h,m,u,r,b[n+10],q,4293915773),r=l(r,h,m,u,b[n+1],E,2240044497),u=l(u,r,h,m,b[n+8],z,1873313359),m=l(m,u,r,h,b[n+15],O,4264355552),h=l(h,m,u,r,b[n+6],q,2734768916),r=l(r,h,m,u,b[n+13],E,1309151649),u=l(u,r,h,m,b[n+4],z,4149444226),m=l(m,u,r,h,b[n+11],O,3174756917),h=l(h,m,u,r,b[n+2],q,718787259),r=l(r,h,m,u,b[n+9],E,3951481745),u=i(u,e),r=i(r,a),h=i(h,o),m=i(m,c);var I=p(u)+p(r)+p(h)+p(m);return I.toLowerCase()}t.exports={hexMD5:h}}}]);